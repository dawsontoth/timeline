(this.webpackJsonpcontrol=this.webpackJsonpcontrol||[]).push([[0],{22:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(13),r=n.n(c),i=n(30),l=n(16),o=n(7),s=(n(22),n(12)),u=n.n(s),d=n(14),j=n(15),f=n(31);function m(e){var t=e/100|0,n=e%100,a=new Date,c=new Date(a.getFullYear(),a.getMonth(),a.getDate(),t,n,0,0);return a.getTime()-c.getTime()}function v(e){if(null!==e){var t=e<0?"T-":"T+";e=Math.abs(e);var n=String(Math.floor(e%1e3/(1e3/30))).padStart(2,"0"),a=String(Math.floor(e/1e3%60)).padStart(2,"0"),c=String(Math.floor(e/1e3/60%60)).padStart(2,"0");return"".concat(t).concat(c,":").concat(a,":").concat(n)}}function b(){return Object(f.a)("timeline-items",Object(j.a)(u.a.mark((function e(){var t,n,a,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){var e,t=Object(d.a)(n);try{for(t.s();!(e=t.n()).done;){var a,c=e.value;if(c.late=!1,c.delta=void 0,c.completed);else if(c.atTime){var r=m(c.atTime);c.late=r>0,c.delta=v(r)}else if(void 0!==c.afterMinutes&&(null===(a=c.relativeTo)||void 0===a?void 0:a.completed)&&c.relativeTo.completedAt){var i=Date.now()-c.relativeTo.completedAt-60*c.afterMinutes*1e3;c.late=i>0,c.delta=v(i)}c.updated.forEach((function(e){return e()}))}}catch(l){t.e(l)}finally{t.f()}},e.next=3,fetch("/timeline/events.json");case 3:return t=e.sent,e.next=6,t.json();case 6:for(n=e.sent,a=function(e){var t=n[e];t.completed=!1,t.updated=[],t.toggleCompleted=function(){t.completed=!t.completed,t.completedAt=t.completed?Date.now():void 0,t.updated.forEach((function(e){return e()}))},void 0!==t.relativeToIndex&&(t.relativeTo=n[e+t.relativeToIndex])},c=0;c<n.length;c++)a(c);return setInterval(r,1e3/60),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)}))),{staleTime:1/0})}var O=n(3);function p(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],r=function(){var e=b().data,t=Object(a.useState)(),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(),l=Object(o.a)(i,2),s=l[0],u=l[1];return Object(a.useEffect)((function(){var t=setInterval((function(){var t=null===e||void 0===e?void 0:e.find((function(e){return e.delta}));r(null===t||void 0===t?void 0:t.delta),u(null===t||void 0===t?void 0:t.late)}),1e3/60);return function(){clearInterval(t)}}),[e]),{delta:c,late:s}}(),i=r.delta,l=r.late;return Object(a.useEffect)((function(){var e=setInterval((function(){var e=new Date;c(e.toLocaleTimeString())}),1e3/60);return function(){clearInterval(e)}}),[]),Object(O.jsx)("div",{className:"clock"+(l?" late":""),children:i||n})}n(25);function h(){return Object(O.jsx)("div",{className:"controls",onClick:function(){return window.location.reload()},children:Object(O.jsx)("button",{children:"Reset"})})}function x(e){var t=e.item,n=Object(a.useState)(),c=Object(o.a)(n,2),r=c[0],i=c[1],l=Object(a.useState)(),s=Object(o.a)(l,2),u=s[0],d=s[1],j=Object(a.useState)(),f=Object(o.a)(j,2),m=f[0],v=f[1];return Object(a.useEffect)((function(){var e=function(){i(t.delta),d(t.late),v(t.completed)};return t.updated.push(e),function(){var n=t.updated.indexOf(e);n>=0&&t.updated.splice(n,1)}}),[t,i,v]),Object(O.jsxs)("li",{className:"item"+(u?" late":"")+(m?" completed":""),onClick:t.toggleCompleted,children:[Object(O.jsx)("div",{className:"item-status",children:m?Object(O.jsx)("i",{className:"fal fa-check-circle"}):r||(t.image?Object(O.jsx)("a",{className:"fal fa-question-circle item-image",target:"_blank",rel:"noreferrer",onClick:g,href:t.image,children:Object(O.jsx)("span",{className:"sr-only",children:"Help"})}):void 0)}),Object(O.jsx)("div",{className:"message",dangerouslySetInnerHTML:{__html:t.message}})]})}function g(e){e.stopPropagation()}n(26);function N(){var e=b(),t=e.isLoading,n=e.error,a=e.data;return t?Object(O.jsx)("ul",{className:"timeline",children:Object(O.jsx)("li",{className:"item",children:Object(O.jsx)("div",{className:"item-status",children:"Loading..."})})}):n||!a?Object(O.jsx)("ul",{className:"timeline",children:Object(O.jsx)("li",{className:"item",children:Object(O.jsx)("div",{className:"item-status",children:n||"Failed to load items!"})})}):Object(O.jsx)("ul",{className:"timeline",children:a.map((function(e,t){return Object(O.jsx)(x,{item:e},t)}))})}var T=new i.a;function S(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(l.a,{client:T,children:[Object(O.jsx)(p,{}),Object(O.jsx)(h,{}),Object(O.jsx)(N,{})]})})}n(27);r.a.render(Object(O.jsx)(S,{}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.e8b6beb4.chunk.js.map